{"ast":null,"code":"import _regeneratorRuntime from\"F:/My Portfolio Web Application/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"F:/My Portfolio Web Application/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/My Portfolio Web Application/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import SpotifyWebApi from\"spotify-web-api-js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var spotifyApi=new SpotifyWebApi();spotifyApi.setAccessToken(\"your-access-token-here\");var CLIENT_ID=\"d5b0fef487f24e41be38468b1b821352\";var REDIRECT_URI=\"http://localhost:3001/#hero\";var AUTH_ENDPOINT=\"https://accounts.spotify.com/authorize\";var RESPONSE_TYPE=\"token\";function NowPlaying(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),accessToken=_useState2[0],setAccessToken=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),track=_useState4[0],setTrack=_useState4[1];var getAccessToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('YOUR_TOKEN_ENDPOINT');case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setAccessToken(data.access_token);case 7:case\"end\":return _context.stop();}},_callee);}));return function getAccessToken(){return _ref.apply(this,arguments);};}();var getTrack=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var spotifyApi,result,randomIndex,track;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:spotifyApi=new SpotifyWebApi();spotifyApi.setAccessToken(accessToken);_context2.next=4;return spotifyApi.searchTracks('genre:pop');case 4:result=_context2.sent;randomIndex=Math.floor(Math.random()*result.tracks.items.length);track=result.tracks.items[randomIndex];setTrack(track);case 8:case\"end\":return _context2.stop();}},_callee2);}));return function getTrack(){return _ref2.apply(this,arguments);};}();useEffect(function(){getAccessToken();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:getTrack,children:\"Get Track\"}),track&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:track.name}),/*#__PURE__*/_jsx(\"p\",{children:track.artists[0].name}),/*#__PURE__*/_jsx(\"img\",{src:track.album.images[0].url,alt:track.album.name})]})]});}export default NowPlaying;","map":{"version":3,"names":["React","useEffect","useState","SpotifyWebApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","spotifyApi","setAccessToken","CLIENT_ID","REDIRECT_URI","AUTH_ENDPOINT","RESPONSE_TYPE","NowPlaying","_useState","_useState2","_slicedToArray","accessToken","_useState3","_useState4","track","setTrack","getAccessToken","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","access_token","stop","apply","arguments","getTrack","_ref2","_callee2","result","randomIndex","_callee2$","_context2","searchTracks","Math","floor","random","tracks","items","length","children","onClick","name","artists","src","album","images","url","alt"],"sources":["F:/My Portfolio Web Application/my-app/src/components/SpotifyMusic.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport SpotifyWebApi from \"spotify-web-api-js\";\r\n\r\nconst spotifyApi = new SpotifyWebApi();\r\nspotifyApi.setAccessToken(\"your-access-token-here\");\r\n\r\nconst CLIENT_ID = \"d5b0fef487f24e41be38468b1b821352\";\r\nconst REDIRECT_URI = \"http://localhost:3001/#hero\";\r\nconst AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\";\r\nconst RESPONSE_TYPE = \"token\";\r\n\r\nfunction NowPlaying() {\r\n  \r\n  const [accessToken, setAccessToken] = useState('');\r\n  const [track, setTrack] = useState(null);\r\n\r\n  const getAccessToken = async () => {\r\n    // Your code to retrieve the access token\r\n    const response = await fetch('YOUR_TOKEN_ENDPOINT');\r\n    const data = await response.json();\r\n    setAccessToken(data.access_token);\r\n  };\r\n\r\n  const getTrack = async () => {\r\n    const spotifyApi = new SpotifyWebApi();\r\n    spotifyApi.setAccessToken(accessToken);\r\n    const result = await spotifyApi.searchTracks('genre:pop');\r\n    const randomIndex = Math.floor(Math.random() * result.tracks.items.length);\r\n    const track = result.tracks.items[randomIndex];\r\n    setTrack(track);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAccessToken();\r\n  }, []);\r\n  \r\n    return (\r\n      <>\r\n        <button onClick={getTrack}>Get Track</button>\r\n            {track && (\r\n              <div>\r\n                <h2>{track.name}</h2>\r\n                <p>{track.artists[0].name}</p>\r\n                <img src={track.album.images[0].url} alt={track.album.name} />\r\n              </div>\r\n            )}\r\n      </>\r\n    );\r\n  }\r\n\r\nexport default NowPlaying"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}